<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <!-- (1) Optimize for mobile versions: http://goo.gl/EOpFl -->
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- (1) force latest IE rendering engine: bit.ly/1c8EiC9 -->
  <meta http-equiv="X-UA-Compatible" content="IE=edge">

  <title>Managing stable and unstable branches in Git | Phil Sturgeon</title>
  <meta name="description" content="I used to contribute to the PHP-FIG, The League of Extraordinary Packages, PHP The Right Way, CodeIgniter, FuelPHP, PyroCMS and a bunch of other stuff, but I gave it all up to join the circus" />

  <meta name="HandheldFriendly" content="True" />
  <meta name="MobileOptimized" content="320" />
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

  <link rel="stylesheet" href="//brick.a.ssl.fastly.net/Linux+Libertine:400,400i,700,700i/Open+Sans:400,400i,700,700i">
  <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">

  <link href="/stylesheets/main.css" rel="stylesheet" media="screen" />
  <link href="/stylesheets/print.css" rel="stylesheet" media="print" />
  <link href="/images/favicon.png" rel="icon" type="image/png" />

  <meta property="og:title" content="Managing stable and unstable branches in Git" />
  <meta property="og:type" content="article" />
  <meta property="article:author" content="Phil Sturgeon" />
  <meta property="og:description" content="Stable and unstable branches mean that while you work on a new version of your software, you maintain the current   version by working on bug-fixes and small tweaks. Find out how to achieve this using Git. " />
  <meta property="og:site_name" content="Phil Sturgeon" />
  <meta property="og:image" content="https://philsturgeon.uk/images/author.jpg" />
  <meta property="og:url" content="https://philsturgeon.uk/git/2009/11/30/Managing-stable-and-unstable-branches-in-Git/" />
  <meta property="og:locale" content="en_GB" />
  
  <meta name="twitter:card" content="summary">
  <meta name="twitter:site" content="@philsturgeon">
  <meta name="twitter:title" content="Managing stable and unstable branches in Git | Phil Sturgeon">
  <meta name="twitter:image:src" content="https://philsturgeon.uk/images/author.jpg">
  <meta name="twitter:url" content="https://philsturgeon.uk/git/2009/11/30/Managing-stable-and-unstable-branches-in-Git/">
  <meta name="twitter:description" content="Stable and unstable branches mean that while you work on a new version of your software, you maintain the current   version by working on bug-fixes and small tweaks. Find out how to achieve this using Git. ">
  <meta name="twitter:creator" content="@philsturgeon">
  
  <link rel="alternate" type="application/atom+xml" title="Atom Feed" href="/feed.xml" />
</head>


  <body>

    <a class='fa fa-home logo-readium' href='/'></a>


    <!-- content start -->

    <main class="content" role="main">
      <article class="post">
        <div class="noarticleimage">
          <div class="post-meta">
            <h1 class="post-title">Managing stable and unstable branches in Git</h1>
            <div class="cf post-meta-text">
              <div class="author-image" style="background-image: url(/images/author.jpg)">Blog Logo</div>
              <h4 class="author-name" itemprop="author" itemscope itemtype="http://schema.org/Person">Phil Sturgeon</h4>
              on
              <time datetime="2009-11-30 18:42:00 UTC">
                Nov 30 2009
              </time>
            </div>
          </div>
        </div>
        <br>
        <br>
        <br>
        <section class="post-content">
          <div class="post-reading">
            <span class="post-reading-time"></span> read
          </div>
          <a name="topofpage"></a>
          <p>Stable and unstable branches are something that every open-source developer, project manager, or general software user should be aware of. The idea is that while you work on a new version of your software, you maintain the current version by working on bug-fixes and small tweaks.</p>

<p>A great example of this methodology is Mozilla Firefox. They already have branches for 3.6 and 4.0, but if a bug is noticed in 3.5.x they can still make a fix without worrying about any of their 3.6+ features getting in the way.</p>

<p>To do this using Git (a distributed version control system) is very simple when compared to other version control systems like Subversion. In Subversion have to keep careful notes of which trunk updates you have merged into your branch, spend ages looking through logs for the correct merge points and messing around with long URL based merge commands. IF you don’t know what I’m talking about, don’t worry. Subversion sucks so put it out of your mind.</p>

<h3 id="branch-naming-conventions">Branch naming conventions</h3>

<p>By default, every Git repo has one branch called <strong>master</strong>. I like to make sure this branch always has a relatively stable release of the code so although it can be considered “bleeding edge”, a user should always be able to pull and not be bombarded with errors.</p>

<p>So if master contains our current release, what should we call our new branch? Let’s use PyroCMS as an example so we have some numbers to work with.</p>

<p>The current release of PyroCMS at time of writing is v0.9.7.2, and that sits in the master. I have created a new branch called v0.9.8-dev to contain all new features for v0.9.8.</p>

<h3 id="creating-the-branches">Creating the branches</h3>
<blockquote>
  <h1 id="when-in-master">when in master</h1>
  <p>git branch v0.9.8-dev<br />
git checkout v0.9.8-dev<br />
git push origin v0.9.8-dev</p>
</blockquote>

<p>This creates a branch for user A, switches to it and pushes it to the origin remote repository. Once thats done, other people can use it via:</p>

<blockquote>
  <h1 id="when-in-master-1">when in master</h1>
  <p>git branch v0.9.8-dev<br />
git checkout v0.9.8-dev<br />
git pull origin v0.9.8-dev</p>
</blockquote>

<p>This creates a branch on user B’s local repository, switches to it and pulls the current copy of v0.9.8-dev merging in any of their master changes at the same time (effectively updating the branch too).</p>

<h3 id="submitting-work">Submitting work</h3>

<p>Now everybody has a branch, people can switch between master and v0.9.8-dev putting their code into whichever branch is relevant for the task. For this use the usual combination of git status, git add and git commit (a.k.a “S.A.C” = if you don’t run status, add, then commit I will SAC your ass from the team).</p>

<blockquote>
  <p>git status</p>
</blockquote>

<p>Shows which files have been changed. Nothing will be added to the commit until you run add/rm.</p>

<blockquote>
  <p>git add folderA folderB/fileB1.html fileC*.php</p>
</blockquote>

<p>That will add anything in folderA, only fileB1.html within folderB and fileC1.php, fileC2.php, fileC3.php etc. With selective use of add and rm you should be able to avoid committing anything you don’t mean to, like cache files or your database config files (you know who I’m talking about guys :-p).</p>

<p>With that done, commit with with a simple:</p>

<p>git commit -m “This system now makes tea quicker and better than before.”</p>

<p>And finally, a quick pull then a push.</p>

<blockquote>
  <h1 id="when-in-master-2">when in master</h1>
  <p>git pull master<br />
git checkout v0.9.8-dev<br />
git merge master<br />
git push</p>
</blockquote>

<p>Doing this ensures that the most up to date copy of master has been downloaded, v0.9.8-dev is switched to and master changes are merged in. Then by using git push and ommiting the remote name and branch, it will just push everything meaning master and v0.9.8-dev are updated simultaneously.</p>

<h3 id="releasing-new-versions">Releasing new versions</h3>

<p>When you are ready to release a new version of your stable branch, you run the following:</p>

<blockquote>
  <p>git checkout master<br />
git tag v0.9.7.3<br />
git push origin v0.9.7.3</p>
</blockquote>

<p>If instead you wish to release the new major version, you need to make sure it has all of your master changes and then:</p>

<blockquote>
  <p>git checkout master<br />
git merge v0.9.8-dev<br />
git tag v0.9.8<br />
git push<br />
git push origin :v0.9.8-dev</p>
</blockquote>

<p>For most of you, that command is probably the most confusing of the lot. What this does it switch to master, merge in all of your v0.9.8-dev branch changes, tag the new release in the local repository and then push everything to your remote. Then right at the end it deletes the unstable branch and your transition is complete!</p>

<p>That then means its time to blog, tweet then party. Your new version is out and that means go to the pub as quick as possible with your phone off so you don’t have to worry about bug-fixes. Tomorrow - when the hangover wears off - it’s time to go back to the start and begin working on your new stable and unstable versions.</p>

        </section>
        <footer class="post-footer">
            <section class="share">
                  <a class="icon-twitter" href="https://twitter.com/share?text=Managing stable and unstable branches in Git&amp;url=https://philsturgeon.uk/git/2009/11/30/Managing-stable-and-unstable-branches-in-Git/"
                    onclick="window.open(this.href, 'twitter-share', 'width=550,height=255');return false;">
                  <i class="fa fa-twitter"></i><span class="hidden">twitter</span>
                  </a>
                  <a class="icon-facebook" href="https://www.facebook.com/sharer.php?t=Managing stable and unstable branches in Git&amp;u=https://philsturgeon.uk/git/2009/11/30/Managing-stable-and-unstable-branches-in-Git/"
                    onclick="window.open(this.href, 'facebook-share', 'width=550,height=255');return false;">
                  <i class="fa fa-facebook"></i><span class="hidden">facebook</span>
                  </a>
            </section>
            <section class="post-next-previous">
                <p>
                    Previous:
                    <a class="button" href="/codeigniter/2009/11/23/Give-CodeIgniters-Parser-library-more-kick-with-Dwoo/">Give CodeIgniter's Parser library more kick with Dwoo</a>
                </p>
                <p style="float:right">
                    Next: 
                    <a class="button" href="/pyrocms/2009/12/07/PyroCMS-v0.9.7.3-released/">PyroCMS v0.9.7.3 released</a>
                </p>
            </section>
        </footer>
        <div class="bottom-teaser cf">
          <div class="more isLeft">
            <h5 class="index-headline featured"><span>Written by</span></h5>
            <section class="author">
              <div class="author-image" style="background-image: url(/images/author.jpg)">Blog Logo</div>
              <h4>Phil Sturgeon</h4>
              <p class="bio">I spend a lot of time urging people to learn more languages, and if that is a bit much learn another framework. Rails and Laravel are the same, and Go is a barrel of laughs.</p>
              <p>Get out of your rut.</p>
            </section>
          </div>
          <div class="more isRight">
            <h5 class="index-headline featured"><span>More Writing</span></h5>
            <section class="author">
              <a href="http://apisyouwonthate.com/">
                <div class="book-image build-apis">Book Cover</div>
                <h4>Build APIs You Won't Hate</h4>
              </a>
              <p class="bio">Everyone and their dog wants an API, so you should probably learn how to build them.</p>
              <p><a href="http://apisyouwonthate.com/">Buy it from LeanPub or Amazon</a>.</p>
            </section>
          </div>
        </div>
      </article>

      <div id="disqus_thread"></div>
      <script type="text/javascript">
          /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
          var disqus_shortname = 'philsturgeon';

          var disqus_identifier = 'Managing-stable-and-unstable-branches-in-Git';

          /* * * DON'T EDIT BELOW THIS LINE * * */
          (function() {
              var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
              dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
              (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
          })();
      </script>
      <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>

    </main>
    <div class="bottom-closer">
      <div class="background-closer-image" style="background-image: url(/images/ciderphpants.jpg)">
        Image
      </div>
      <div class="inner">
        <h1 class="blog-title">Phil Sturgeon</h1>
        <h2 class="blog-description">I used to contribute to the PHP-FIG, The League of Extraordinary Packages, PHP The Right Way, CodeIgniter, FuelPHP, PyroCMS and a bunch of other stuff, but I gave it all up to join the circus</h2>
        <a href="/" class="btn">Back to Overview</a>
      </div>
    </div>

    <!-- content end -->

    <footer class='footer' role='contentinfo'>
  <div class='footer-links'>
    <ul class='context'>
      <li>
        <h3>Content</h3>
      </li>
      <li>
        <a href='/about'>About</a>
      </li>
      <li>
        <a href='/books'>Books</a>
      </li>
    </ul>
    <ul class='follow'>
      <li>
        <h3>Follow Me</h3>
      </li>
      <li>
        <a href='https://twitter.com/philsturgeon'>Twitter</a>
      </li>
      <li>
        <a href='https://github.com/'>GitHub</a>
      </li>
      <li>
        <a href='http://phptownhall.com/'>PHP Town Hall</a>
      </li>
    </ul>
    <ul class='recent_posts'>
      <li>
        <h3>Recent Posts</h3>
        <ul>
          <li><a href="/api/2015/10/08/http-documentation-with-api-blueprint/">HTTP Documentation with API Blueprint</a></li>
          <li><a href="/2015/10/02/everyones-favourite-twitter-character/">Everyones Favourite Twitter Characters</a></li>
          <li><a href="/http/2015/09/23/http-status-codes-are-not-enough/">HTTP Status Codes Are Not Enough</a></li>
        </ul>
      </li>
    </ul>
  </div>
</footer>

    <script src="//code.jquery.com/jquery-1.11.3.min.js"></script>
<script src="/javascripts/jquery.fitvids.js"></script>
<script src="/javascripts/index.js"></script>
<script src="/javascripts/readingTime.min.js"></script>
<script>
(function ($) {
  "use strict";
  $(document).ready(function(){

    var $window = $(window),
    $image = $('.post-image-image, .teaserimage-image');
    $window.on('scroll', function() {
      var top = $window.scrollTop();

      if (top < 0 || top > 1500) { return; }
      $image
        .css('transform', 'translate3d(0px, '+top/3+'px, 0px)')
        .css('opacity', 1-Math.max(top/700, 0));
    });
    $window.trigger('scroll');

    var height = $('.article-image').height();
    $('.post-content').css('padding-top', height + 'px');

    $('a[href*=#]:not([href=#])').click(function() {
      if (location.pathname.replace(/^\//,'') == this.pathname.replace(/^\//,'')
       && location.hostname == this.hostname) {
        var target = $(this.hash);
        target = target.length ? target : $('[name=' + this.hash.slice(1) +']');
        if (target.length) {
          $('html,body').animate({ scrollTop: target.offset().top }, 500);
          return false;
        }
      }
    });
  });
}(jQuery));
</script>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-8523256-1', 'auto');
  ga('send', 'pageview');

</script>


  </body>

</html>
